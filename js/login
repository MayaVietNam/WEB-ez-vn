// js/login.js

document.addEventListener('DOMContentLoaded', () => {
  const container    = document.getElementById('container');
  const signUpBtn    = document.getElementById('corp-btn');
  const signInBtn    = document.getElementById('partner-btn');
  const partnerForm  = document.getElementById('partner-form');
  const corpForm     = document.getElementById('corp-form');

  // Toggle panels
  signUpBtn.addEventListener('click', () => {
    container.classList.add('right-panel-active');
  });
  signInBtn.addEventListener('click', () => {
    container.classList.remove('right-panel-active');
  });

  // Partner login
  partnerForm.addEventListener('submit', e => {
    e.preventDefault();
    const u = document.getElementById('partner-user').value.trim().toLowerCase();
    const p = document.getElementById('partner-pass').value;
    if (u === 'his_user' && p === 'MAYAVIETNAM') {
      window.location.href = './HIS/index.html';
    } else {
      Swal.fire('Lỗi', 'Tài khoản hoặc mật khẩu không đúng.', 'error');
    }
  });

  // Corporate login (tax code)
  corpForm.addEventListener('submit', e => {
    e.preventDefault();
    const code = document.getElementById('corp-tax-code').value.trim();
    if (!code) {
      return Swal.fire('Thiếu thông tin', 'Nhập mã số thuế doanh nghiệp.', 'warning');
    }
    sessionStorage.setItem('corpTaxCode', code);
    window.location.href = './Corporate/router.html';
  });
});
